<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
</head>
<body>
<h1 id="thebiglesscleanup">The big LESS clean up</h1>

<p>The attempt is to reduce the overall files, while keeping the styles working for existing page elements. Much of this document should eventually be combined into README.</p>

<h2 id="folderstructure">Folder structure</h2>

<p>Gradually, the LESS files will need to fit into a new folder structure.</p>

<pre><code>. site-2.less           imports all LESS files  
+-- base                used for all base level LESS files, such as  
| +-- colors.less  
| +-- variables.less  
+-- vendors             all third party CSS and LESS, such as resets  
+-- mixins              general functional mixins will sit here, giving us a library of funtional mixins to draw on  
+-- modules             all website page elements, such as breadcrumbs  
</code></pre>

<p>Currently, the LESS files are terribly organised.</p>

<pre><code>. site-2.less           imports all LESS files directly  
+-- existing            this contains all the LESS imports from the existing websites LESS structure  
| +-- inc               this contains all the original LESS files  
| +-- beta              this contains all the beta styles used for beta templates over the top of inc files  
+-- modules             currently a bit of a mess, but will become 'base' folder  
| +-- colors.less   
| +-- variables.less  
+-- partials            confusingly, this will become the 'modules folder'  
+-- styleguide          these are LESS files specifically for the styleguide, but not the website (may need to remain)  
+-- vendor              actually pretty tidy, no need to change this
</code></pre>

<h2 id="gitstructure">Git structure</h2>

<p>We will need to come up with a working process and structure for git that allows us to easily create test products from the master, without affecting other things. I currently have two ideas for this;</p>

<ol>
<li>Create a new branch for each product we test, branching from the most current version of the master (or, if applicable, a similar product). This will also allow us to easily keep track of all the products we&#8217;ve tested, as the state we tested them in the future. However it is likely to contain a lot of dead branches.</li>
<li>A folder structure specifically for product tests, where each product keeps its own compiled CSS file to prevent future updates breaking old test products.</li>
</ol>

<h2 id="workingprocess">Working process</h2>

<p>Currently there is a second file site&#8211;2.less that directly compiles everything into it, rather that site.less. This allows us to run a &#8216;cleanup&#8217; stylesheet and test stylesheet alongside one another. MAKE ALL CLEAN UP CHANGES TO site&#8211;2.less.</p>

<p>site&#8211;2.less currently imports every file directly, rather than using imports of import files. This helps keep track of all the files.</p>

<p>Use site&#8211;2.less as a checklist. The aim is to eventually go through each file listed in there in order and gradually modify them. Refer to the checklist below for guidance on what to change and how.</p>

<h3 id="cleanupchecklist">Clean up checklist</h3>

<ol>
<li>Is this file needed? Can it be removed?</li>
<li>Is the code duplicated already elsewhere is any form?</li>
<li>Can these two duplicate files be merged? (there&#8217;s a good chance one is overwriting the other)</li>
<li>Are there any !important classes? If so, fix them.</li>
<li>Are there any variables used? Make sure they use a variable defined in either base &gt; variables.less or base &gt; colors.less</li>
<li>Are there any outdated mixins, or missing mixins?</li>
<li>Is there anything that would warrent its own mixin?</li>
<li>Could the LESS use BEM structure better (without adjusting the HTML)?</li>
<li>Is the file in the correct folder?</li>
<li>Is the file correctly listed in site&#8211;2.less?</li>
</ol>

</body>
</html>
