// Template for old website style mockups
//
// VARIABLES
//
// dir
// The related reference for assets such as images and styles.
//
// title
// The page title. If exists will show as the page title.
//
// cookiemonster
// If true will show the cookiemonster banner at the bottom of the screen.
//
// mockup
// If true will show the full megamenu.
//
// mockup > signedin
// If true will show show "Sign out" in top right.
//
// blog
// If true show the blog headers.
//
// sidebar
// If true show the sidebar block.
//
// toolbar
// If true show the toolbar above content.
//
// toolbar > sharebar
// If true show the sharebar below content.
//
// newfoot
// If true show the new footer. If false (or blank) show the old footer.
//
// BLOCKS
//
// head
// A block for anything that should be just before the </head> tag.
//
// breadcrumbs
// A block for including the breadcrumbs mixin.
//
// section-notice
// A block for section notice content.
//
// content
// The main content block.
//
// sidebar
// A block for sidebar mixin/content.
//
// script
// A block for placing html before the </body> tag.

include mixins.jade
block settings
doctype html
html.no-js
	head
		meta(content="text/html; charset=utf-8", http-equiv="Content-Type")
		meta(charset="utf-8")
		meta(content="IE=edge", http-equiv="X-UA-Compatible")
		meta(name="keywords")
		meta(name="description")
		//base(href="#{dir}")

		title Citizens Advice style guide
			- if (typeof title !== "undefined")
				| - #{title}

		// Mobile Specific Metas
		meta(content="width=device-width, initial-scale=1, maximum-scale=2.0", name="viewport")
		meta(content="48a2415d-980f-4763-a5b9-e10e000636b3", name="cab-guid")
		meta(content="EWS", name="cab-extent")
		meta(content="#{dir}static/images/apple-touch-icon.png")
		meta(content="B53C5C20449FC2233D3862B4DBEDFA3E", name="msvalidate.01")

		// Stylesheets
		link(href="#{dir}css/guide.css", rel="stylesheet")
		link(href="#{dir}images/favicon/32.png", rel="shortcut icon")
		link(href="#{dir}images/favicon/228.png", rel="apple-touch-icon")

		script
			include ../js/head.js

		block head

	body
		<!--[if IE 8]><div class="ie8"><![endif]-->
		.skip-nav
			a.screenreader.screenreader--focusable Skip to content
			a.screenreader.screenreader--focusable Skip to footer

		if cookiemonster
			.cookie-monster.hide-no-cookies.hide-no-js.no-print
				.cookie-monster__content
					p This site uses cookies. Find out more about #[a(href="#") our use of cookies].
					button.btn.cookie-monster__close(data-action="close", type="button") Close

		if mockup
			header.main-header
				.main-header__content
					a.main-header__logo(href="index.html", title="Citizens Advice home")
						img(onerror="this.onerror=null;this.src='#{dir}images/logos/ca-logo_100px.svg.png';", alt="Citizens Advice", src="#{dir}images/ca-logo_100px.svg" height="80")

						img.main-header__img--mobile.no-print.wide(onerror="this.onerror=null;this.src='#{dir}images/logos/ca-logo-hz-white-280px.svg.png';", alt="Citizens Advice", src="#{dir}images/ca-logo-hz-white-280px.svg")

					.main-header__links(data-track-zone="top-bar")
						a.main-header__menu-link.js-toggle-menu(href="")
							i.icon-menu
							| Menu

						nav.main-header__top-nav
							a(href="#") Cymraeg</a>
							a.hide-offline.main-header__login(href="")
								i.icon-key
								if signedin
									| Sign out
								else
									| Sign-in

						form.main-header__search.hide-offline(action="")
							label.screenreader(for="main-header__search__input") Search
							input#main-header__search__input.main-header__search__input(name="q", placeholder="", type="search")
							button.main-header__search__submit(title="Search", type="submit")
								i.icon-search.icon--no-text
								span.screenreader Search

			nav.main-nav(data-track-zone="main-nav", style="overflow: visible;")
				ul.nav-list-primary
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Benefits
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Work
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Debt and money
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Consumer
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Relationships
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Housing
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Law and rights
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Discrimination
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Tax
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Healthcare
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") Education
					li.top-item.js-mega-menu(style="display: list-item;")
						a(href="#") More from us
					li.nav-list-primary-more.js-more-menu(style="display: none;")
						a(href="#") More
							i.icon-down

		else if loginheader
			aside.section-notice__login
				h2.screenreader Notice
				.section-notice__content
					button.btn.btn-small(type="button") #[a(href="adviser.html") Adviser login]
			header.main-header
				.main-header__content.main-content
					a.main-header__logo.no-print(href="index.html", title="Citizens Advice home")
						img(alt="Citizens Advice", onerror="this.onerror=null;this.src=&#39;#{dir}images/ca-logo_100px.svg.png&#39;;", src="#{dir}images/ca-logo_100px.svg")
					img.print-only.logo(src="#{dir}images/ca-logo-hz-280px.svg")

		else if logoutheader
			aside.section-notice__login
				h2.screenreader Notice
				.section-notice__content
					button.btn.btn-small(type="button")  #[a(href="adviser-logged-out.html") Adviser logout]
			header.main-header
				.main-header__content.main-content
					a.main-header__logo.no-print(href="index.html", title="Citizens Advice home")
						img(alt="Citizens Advice", onerror="this.onerror=null;this.src=&#39;/Static/#{dir}images/logos/ca-logo_100px.svg.png&#39;;", src="#{dir}images/ca-logo_100px.svg")
					img.print-only.logo(src="#{dir}images/ca-logo-hz-280px.svg")

		else if blog
			header.blog-header
				.blog-header--content
					a(href="blog-home.html", style="border: none;")
						img(src="#{dir}images/ca-logo-hz-white-280px.svg")

					#toggle
					ul.blog-navigation
						li
							a(href="blog-team.html") The Team
						li
							a(href="#") About
						li
							a(href="blog-get-involved.html") Get involved
						li
							a(href="#") Jobs

		else
			header.styleguide--header
				.styleguide--header--content
					a#issuereport.btn-white.btn-small(href="https://github.com/citizensadvice/cab-ui/issues/new") Give feedback
					a(href="#{dir}index.html", style="border: none;")
						img(src="#{dir}images/ca-logo-hz-white-280px.svg")
					a#repo(href="https://github.com/citizensadvice/cab-ui", style="border: none;") v2.1.2

		.main-container
			nav.main-breadcrumb
				block breadcrumbs

			block section-notice

			.main-content
				if sidebar
					.main-content__right(id="main", role="main")
						if title
							.title
								h1.title__heading.js-ref
									span.title__title #{title}
						if toolbars
							include toolbar.jade
							block content
							if sharebar
								include sharebar.jade
						else
							block content

					block sidebar
				else
					.title
						h1.title__heading.js-ref
							span.title__title #{title}
					block content

		if mockup
			.footer-feedback
				h2.screenreader Feedback
				.footer-feedback__content
					p Is there anything wrong with this page? #[a(href="#") Let us know].
			if newfoot
				#footer.main-footer(data-track-zone="footer")
					.footer-content.flex-row
						.flex-column.col-xs-12.col-md-9
							h3 Get Advice
							.flex-row(style="padding: 0;")
								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") Benefits]
										li #[a(href="#") Work]
										li #[a(href="#") Debt and money]
										li #[a(href="#") Consumer]

								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") Relationships]
										li #[a(href="#") Housing]
										li #[a(href="#") Law and rights]
										li #[a(href="#") Discrimination]

								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") Tax]
										li #[a(href="#") Healthcare]
										li #[a(href="#") Education]
										li #[a(href="#") A to Z of advice]

						.flex-column.col-xs-12.col-md-3
							h3 Information
							ul
								li #[a(href="#") Help]
								li #[a(href="#") Cymraeg]
								li #[a(href="#") Terms and conditions]
								li #[a(href="#") Privacy and cookies]

					.footer--legal
						.footer--legal--content
							img(alt="", src="#{dir}images/ca_wo-logo-100px.svg")
							p
								| Copyright © 2016 Citizens Advice, an operating name of the National Association of Citizens Advice Bureaux.
								br
								| Registered charity number 279057; Registered in England 1436945; VAT number GB726020276. 3rd Floor North, 200 Aldersgate, London, EC1A 4HD

			else if blog
				#footer.main-footer(data-track-zone="footer")
					.footer-content.flex-row
						.flex-column.col-xs-12.col-md-9
							h3 Digital Blog
							.flex-row(style="padding: 0;")
								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") The Team]
										li #[a(href="#") About]

								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") Get Involved]
										li #[a(href="#") Jobs]

								.col-xs-12.col-sm-4
									ul
										li #[a(href="#") Content style guide]
										li #[a(href="#") UI design guide]

						.flex-column.col-xs-12.col-md-3
							h3 Information
							ul
								li #[a(href="#") Terms and conditions]
								li #[a(href="#") Privacy and cookies]

					.footer--legal
						.footer--legal--content
							img(alt="", src="#{dir}images/ca_wo-logo-100px.svg")
							p
								| Copyright © 2016 Citizens Advice, an operating name of the National Association of Citizens Advice Bureaux.
								br
								| Registered charity number 279057; Registered in England 1436945; VAT number GB726020276. 3rd Floor North, 200 Aldersgate, London, EC1A 4HD

			else
				#footer.main-footer(data-track-zone="footer")
					.main-footer__content.flex-row.js-equal-height
						.main-footer__box.col-md-3.col-sm-6
							h2 Advice
							ul.li--arrow
								li
									a(href="#") Benefits
								li
									a(href="#") Work
								li
									a(href="#") Debt and money
								li
									a(href="#") Consumer
								li
									a(href="#") Relationships
								li
									a(href="#") Housing
								li
									a(href="#") Law and rights
								li
									a(href="#") Discrimination
								li
									a(href="#") Tax
								li
									a(href="#") Healthcare
								li
									a(href="#") Education
								li
									a(href="#") A to Z of advice

						.main-footer__box.col-md-3.col-sm-6
							h2 Resources and tools
							ul.li--arrow
								li
									a(href="#") Budgeting tool
								li
									a(href="#") Advice fact sheets
								li
									a(href="#") Advice online, by phone and in person

						.main-footer__box.col-md-3.col-sm-6
							h2 More from us
							ul.li--arrow
								li
									a(href="#") About us
								li
									a(href="#") Annual reports
								li
									a(href="#") Contact us
								li
									a(href="#") Complaints
								li
									a(href="#") Blogs
								li
									a(href="#") Campaigns
								li
									a(href="#") Media
								li
									a(href="#") Policy research
								li
									a(href="#") Support us
								li
									a(href="#") Volunteering
								li
									a(href="#") Jobs

						.main-footer__box.col-md-3.col-sm-6
							h2 About Citizens Advice
							ul.li--arrow
								li
									a(href="#") How we provide advice
								li
									a(href="#") The difference we make
								li
									a(href="#") Support us
								li
									a(href="#") How Citizens Advice works
								li
									a(href="#") Accessibility
								li
									a(href="#") Disclaimer and copyright
								li
									a(href="#") Privacy and cookies

						.main-footer__box.main-footer__box--copyright
							div
								p
									img(alt="", height="100", src="#{dir}images/ca-logo_100px.svg", width="100")
									| Copyright © 2016 Citizens Advice. All rights reserved.
									br
									| Citizens Advice is an operating name of the National Association of Citizens Advice Bureaux. Registered charity number 279057
									br
									| VAT number 726 0202 76 Company limited by guarantee. Registered number 1436945 England
									br
									| Registered office: Citizens Advice, 3rd Floor North, 200 Aldersgate, London, EC1A 4HD

		else
			#footer.main-footer(data-track-zone="footer")
				.footer--legal
					.footer--legal--content
						img(alt="", src="#{dir}images/ca_wo-logo-100px.svg")
						p
							| Copyright © 2016 Citizens Advice, an operating name of the National Association of Citizens Advice Bureaux.
							br
							| Registered charity number 279057; Registered in England 1436945; VAT number GB726020276. 3rd Floor North, 200 Aldersgate, London, EC1A 4HD

		// Code changed, not using here as implimented through cms
		//.notice
			.notice__content
				p We no longer support Internet Explorer 8. To avoid problems viewing this website, please consider #[a.a-external-link(href="http://browsehappy.com/") upgrading your browser].

		<!--[if IE 8]></div><![endif]-->
		script(src="#{dir}js/vendor/jquery-1.11.3.min.js")
		script(src="#{dir}js/translate.js")
		script(src="#{dir}js/jquery.fn.cssSlide.js")
		script(src="#{dir}js/revealable.js")
		script(src="#{dir}js/prism.js")
		script(src="#{dir}js/smooth.js")
		script(src="#{dir}js/jquery.fn.top-sticky.js")
		//script(src="#{dir}js/advisor.js")
		script(src="#{dir}js/sidebar.js")
		//script(src="#{dir}js/core.js")
		script(src="#{dir}js/clipboard.min.js")
		script.
			var clipboard = new Clipboard( '.a-social-copy', {
			    text: function(trigger) {
			        return window.location.href;
			    }
			});
			clipboard.on('success', function(e) {
				$( '.copied' ).fadeIn( 'fast' );
				$( '.copied' ).delay(400).queue(function(){
				    $( this ).fadeOut( 'fast' );
					$( this ).stop();
				});
			});

			var filename = document.location.pathname.match(/[^\/]+$/)[0];
			$(document).ready(function() {
				$('.section-nav a[href*="' + filename + '"]').addClass('active');

				// Connect up LinkedIn buttons
				$('.a-social-linkedin').attr('href', "http://www.linkedin.com/shareArticle?mini=true&title="+document.title+"&url="+window.location);
			});
		if blog
			script.
				$(document).ready(function() {
					$( "#toggle" ).on( "click", function() {
						$( this ).next().slideToggle();
						$( this ).toggleClass('active');
					});
				});

		block script

		// GA script
		script.
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-8734782-29', 'auto');
			ga('send', 'pageview');