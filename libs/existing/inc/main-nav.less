

.dropdownNav{display: none;}

/* Fix the height or it jumps around alot as the JS resizes it.  Do it now in CSS to avoid jumping when the js loads 
   The overflow is removed by the JS or the menus won't show
*/
.js .main-nav {height: 54px; overflow: hidden;}


.main-nav {
    .clearfix;
    background-color:@blue;
    // Chrome messes up the spacing without this
    margin-bottom: 1em;
}

html[lang="en-SCT"] .main-nav {
    background-color: @casblue;
}


.nav-list-primary {
    .limit-width;
    list-style: none;
    // 12px makes the first items label inline with the page edge
    padding: 0 20px 0 12px;
}

.top-item {
    float: left;
    margin: 0;
    /* For the mega menus */
    position: relative;

    & > a {
        padding: 15px 8px;
        display: block;
        font-weight: 600;
        color: #fff;

        &:hover, &:focus {
            background: @blue-5;
            color: #01355a;
            text-decoration: none;
        }
    }

    /* No external link icons */
    .a-external:after {
        content: none;
    }
}

.nav-list-primary-more {
    float: right;
    margin: 0;
    padding: 6px 0;
    position: relative; /* So we can position the more menu within this */
    & > a {
        padding: 8px 8px;
        display: inline-block;
        font-weight: 600;
        background: #003A6A;
        color: @white;
        text-decoration: none;
        line-height: 25px;

        & > i {
            margin-left: 10px;
        }
    }

    &:hover, &.active {
        background-color: #003A6A;

        & > a {
            background-color: #003A6A;
        }

        & > .main-nav__more-links {
            display: block;
        }
    }
}

.main-nav__more-links {
    position: absolute;
    list-style: none;
    background-color: #003A6A;
    z-index: 200;
    right: 0;
    top: 100%;
    padding: .4em;
    margin: 0;
    display: none;

    & > li {
        margin: 0;
        padding: 0;

        & > a {
            display: block;
            color: #fff;
            padding: .4em;
            font-weight: 600;
            white-space: nowrap;

            &:hover, &:focus {
                background: #fff;
                color: #01355a;
                text-decoration: none;
            }
        }
    }
}

@media ( min-width: @screen-sm-min) {
    .main-nav__mobile-secondary {
        // This is generated by JavaScript
        display: none !important;
    }
}

           
/*Mega Menus*/

.mega-menu {
    position: absolute;
    background: #fff;
    top: 100%;
    border-top: 6px solid @blue-40;
    -moz-box-shadow: 0 0 10px #5C5C5C;
    -webkit-box-shadow: 0 0 10px #5C5C5C;
    box-shadow: 0 0 10px #5C5C5C;
    padding: .5em;
    z-index: 999;
    display: none;
    margin-top: 1em;
    width: 300px; /* One column - two column is set below */
    
    ul {
        /*.arrow-list;*/
        list-style: none;
        margin-left: 0;
        padding-left: 0;
    }
    

    .view-all {
        .view-all;

        a {
            font-weight: bold;
        }
    }
}

.ie8 .mega-menu {
    border: 1px solid  @blue-40;
    border-top: 6px solid @blue-40;
}

.active > .mega-menu {
    display: table;
}

.mega-menu--show-right {
    width: 600px; /* Width for two columns */
}

.mega-menu__left,
.mega-menu__right {
    display: table-cell;
    vertical-align: top;
    padding: .5em;
    width: 100%;
}

.mega-menu__left {
    /*background: #E5EFF9;*/
}

.mega-menu--show-right > .mega-menu__left {
    /* If we are not showing the right side it needs to take the full width */
    width: 50%;
}

.mega-menu__right {
    width: 50%;
}

.mega-menu__left + .mega-menu__right {
    padding-left: 1em;
}

.mega-menu__title {
    margin: .3em 0;
}

.mega-menu__promo {
    background: @blue-5;
    color: @blue;
    padding: .5em;
    overflow: hidden; /* Clearfix */

    img {
        float: left;
        margin: 0 .5em .5em 0;
        max-width: 27%; /* Yuk, but that is what they have asked for */
    }

    a, a:hover {
        color: @blue;
        font-weight: bold;
    }
}
   
.mega-menu__arrow {
  border-left: 10px solid transparent; 
  border-right: 10px solid transparent; 
  border-bottom: 10px solid @blue-40;
  position: absolute;
  /* We actually position this in JS as Chrome and Firefox cannot agree how position
     inside a display: table element with borders
     The following works correctly in Chrome and IE    
  */
  top: 0;
  /* Create a slight overlap to hide any gap while zooming */
  margin-top: -9px;
  /* Firefox is created jagged arrows.  This fixes it*/
  -moz-transform: scale(.9999);
} 

// Mobile view

@media (max-width: @screen-xs-max){
    .js .main-nav{
        height: auto;
    }

    .main-nav {
        display: none;
        position: absolute;
        width: 100%;
        z-index: 100;
        .clearfix;
    }  

    .nav-list-primary, .main-nav__mobile-secondary {
        list-style: none;
        display: block;
        margin:0;
        padding: .5em;
        float: left;
        width: 50%;
    }

    .top-item {
        float: none;
        padding: 0;
        & > a {
            padding: .5em;
        }
    }
  
    .mega-menu,
    .nav-list-primary-more {
        display: none!important;
    }
}