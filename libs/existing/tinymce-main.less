@import "inc/magic-numbers";
@import "inc/helpers";
@import "inc/beta/colors";
@import "inc/beta/variables";
@import "inc/icons";
@import "inc/global";
@import "inc/boxes";
@import "inc/tables";
@import "inc/revealable";
@import "inc/beta/panels";
@import "inc/highlight";

// Override basic styling
// ----------------------

body {
    background-color: transparent; // Undo the background colour!
    padding: .5em !important; // Makes it a bit easier to use
}

a:link {
    color: black; // Too difficult to read without this
}

// Warn about bad links
a[href^="https://www.citizensadvice.org.uk"]:before,
a[href^="http://www.citizensadvice.org.uk"]:before,
a[href^="https://citizensadvice.org.uk"]:before,
a[href^="http://citizensadvice.org.uk"]:before,
a[href^="https://edit.citizensadvice.org.uk"]:before,
a[href^="http://edit.citizensadvice.org.uk"]:before,
a[href^="https://www.adviceguide.org.uk"]:before,
a[href^="http://www.adviceguide.org.uk"]:before,
a[href^="https://adviceguide.org.uk"]:before,
a[href^="http://adviceguide.org.uk"]:before,
a[href^="http://www.cabadvisernet.org.uk"]:before,
a[href^="http://www.cablink.org.uk"]:before,
a[href^="http://cablink.org.uk"]:before,
a[href^="http://www.bmis.org.uk"]:before,
a[href^="http://bmis.org.uk"]:before {
    content: "ERROR: please change this to an internal link → ";
    display: inline-block;
    border: 1px solid red;
    color: red;
    margin-right: .3em;
    padding: 0 .2em;
}

// Override mceItemTable
// Annoying - can't use a mixin here

.mceItemTable {
  margin: 1em 0;
  border-collapse: collapse;
  border: none;
}

.mceItemTable td, .mceItemTable th {
  border: 1px solid #ccc;
  padding: .4em;
  text-align: left;
  vertical-align: top;
}

.mceItemTable {
    td {
        background: #fff;

        &.td--green {
            .td--green;
        }

        &.td--amber {
            .td--amber;
        }

        &.td--red {
            .td--red;
        }
    }
}

.mceItemTable th {
  background: @heritage-blue;
  color: #fff;
  font-weight: normal;

  a {
    color: #fff;
    text-decoration: underline;
  }

}

.table--properties {
    td, th {
        border: 1px dashed #ccc;
    }
}

table.sortable {
    
}

// Override boxes
// --------------

.box-label(@label) {
    position: relative;
    &:before {
        content: @label;
        display: inline-block;
        white-space: nowrap;
        border: 1px dashed #aaa;
        background: rgba(255,255,255,.8);
        position: absolute;
        top: -1px;
        right: -1px;
        padding: 0 .5em;
        z-index:1;
    }
}

.box {
    border-bottom: 1px dashed #aaa;
    border-left: 1px dashed #aaa;
    border-right: 1px dashed #aaa;
    clear: both;
    .box-label("box");
}

.box--content-right {
    margin-right: 0;
    .box-label("Side box");
}

.box--warning {
    .box-label("Warning box");
}

.content-right:not(img) {
    border: 1px dashed #aaa;
    .box-label("Float right");
}

.content-left:not(img) {
    border: 1px dashed #aaa;
    .box-label("Float left");
}

.dap-panel--base {
    .box-label("Beta base");
}

.dap-panel--important {
    .box-label("Beta important");
}

.dap-panel--crucial {
    .box-label("Beta crucial");
}

.dap-panel--progress {
    .box-label("Beta progress");
}

.dap-panel--adviser {
    .box-label("Beta adviser only");
}

.dap-panel--example {
    .box-label("Beta example");
}

.two-column-box {
    .box-label("Two column box");

    .two-column-box__col {
        border:1px dashed #ddd;
    }

    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
}

// The editor is technically xs so we need to override the display
.two-column-box__col {
    float: left;
    width: 50%;
}

// Accordion
// --------------

div.accordion {
    // Old accordion
    border: 1px dashed #cccccc;
    padding: 1em;
}

section.js-revealable {
   
    .box-label("Revealable");
    .revealable;

    border: 1px dashed #aaa;

    & > h2:first-child, & > h3:first-child,  & > h4:first-child {
        .revealable__heading;
        padding-left: .5em;
        &:before {
            .icon;
            content: @icon-symbol-chevron-up;
        }
    }

    & > *:first-child:not(h2):not(h3):not(h4) {
        outline: 2px dashed red;
        &:before {
            content: "The first child needs to be heading in an revealable! ";
            display: block;
            color: red;
            font-weight: bold;
        }
    }
}

// Better display of objects and the like
.mceItemIframe{background: #eee; border: 1px dashed #000;}

script {display:inline-block; background: #eee; border: 1px dashed #000; padding: .5em; font-family: monospace; margin: .5em 0;}
script:before {content: "Script: "; }

style {display:inline-block; background: #eee; border: 1px dashed #000; padding: .5em; font-family: monospace; margin: .5em 0;}
style:before {content: "Style: "; }

.mceItemFlash{display:block; border: 1px dashed #000;  background: #eee; padding: .5em; margin: .5em 0; }
.mceItemFlash:before {content: "Object: "; }


// Missing from the default styles for some reason
.epi_dc_preview > ul {
    list-style: none; 
}

// Clear floated elements or it the controls become corrupted
.epi_pc, .epi_dc {
    clear: both;
}