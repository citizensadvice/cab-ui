/**
 * BOXES
 *
 * Would be good to try and remove this completely, in place of callouts
 */

// Move to mixins

.index-box (
        @index-box-background: @heritage-blue-lightest,
        @index-box-text: @text-color,
    ){
    padding: @box-spacing;
    margin: @box-spacing*.5;
    background-color: @index-box-background;
    color: @index-box-text;
    border-top-width: 4px;
    display: block;
    & > h2 {
        margin: 0 0 @box-spacing*.7;
        font-size: @font-size-medium;
        color: @heritage-blue;
        a {
            border-bottom: none;
            color: @heritage-blue;
        }
    }
    & > h3 {
        margin: 0 0 @box-spacing*.7;
        font-size: @font-size-base;
        color: @text-color;
    }
}

.index-page__box,
.home-page__box,
.index-box {
    .index-box(
        @heritage-blue-lightest,
        @text-color
    );
}
.index-page__box--green,
.index-box__green {
    .index-box(
        @green-lighter,
        @text-color
    );
}

.index-page__box--purple,
.index-box__purple {
    .index-box(
        lighten(@generous-mauve, 10%),
        @text-color
    );
}

.index-box__info {
    .index-box(
        @heritage-yellow-lighter,
        @text-color
    );
}




.beta-box() {
    background-color: @gray-7;
    border-top-width: 4px;

    & > h2 {
        margin: 0 0 @box-spacing*.7;
        font-size: @font-size-medium;
        color: @heritage-blue;
    }

    & > h3 {
        margin: 0 0 @box-spacing*.7;
        font-size: @font-size-base;
        color: @text-color;
    }
}

@media (max-width: @screen-xs-max ) {
    .content__header + .main-content {
        margin-top: 0;
    }
}

.box {
    .beta-box();
}

.box--yellow {
    border-top-color: @yellow;
}

.box--aqua {
    border-top-color: @aqua;
}

.box--blue {
    border-top-color: @heritage-blue;
}

.breadcrumb-lite {
    padding-top: @box-spacing*.5;
    @media screen and (max-width: @screen-xs-max) {
        margin-top: @box-spacing-vertical*1.5;
    }
}

.highlight-adviseronly:extend( .box all ) {
    overflow: hidden; // Allows the div to wrap around floated divs

    & > h4 {
        margin-top: 0;
    }

}

// WARNING These boxes are extended by the home page, index page and side bars

// Box with a bar along the top
.box {
    border-top: 8px solid @blue-navigation;
    background: @white;
    padding: 1em;
    margin-bottom: 1.5em;

    & > h2 {
        margin: 0;
        font-size: 1.6em;
    }

    & > h3, & > h4 {
        margin: 0;
    }

    & > img:first-child {
        margin: calc(-1em) -1em 0 -1em;
        max-width: none;
        width: 100%;
        width: calc( ~"100% + 2em" );
    }
}

// There is blue top

.box--orange {
    border-top-color: @orange;
}

.box--green {
    border-top-color: @green;
}

.box--purple {
    border-top-color: @purple-dark;
}

.box--grey {
    border-top-color: @gray-6;
}

.box--pink {
    border-top-color: @pink;
}

// Box with a line along the side

.box--side {
    padding: 0 1em;

    background-color: @green-lighter;

    & > h2 {
        font-size: 1.2em;
        padding: 0;
        margin: .7em 0;
    }
}

// Box with a border

.box--outline {

    border: 2px solid @heritage-blue;
    background: @white;
    margin-bottom: 1.5em;
    padding: 0 1em;

    & > h2 {
        font-size: 1.2em;
        padding: 0;
        margin: .7em 0;
    }
}

// Pull boxes right in the content area

.box--pull-right {
    float: right;
    clear: right;
    margin: 0 -25% 1em 1em;
    width: 50%;
}

@media (max-width: @screen-sm-max ) {
    .box--pull-right {
        margin: 0 0 1em 1em;
    }
}

@media (max-width: @screen-xs-max ) {
    .box--pull-right {
        float: none;
        clear: none;
        width: auto;
    }
}

.box--content-right {
    .box;
    .box--pull-right
}

// A box with two 50% halfs
.two-column-box {
    .clearfix;
    margin: 1em 0;
}
.two-column-box__col {
    width: 50%;
    float: left;

    @media (max-width: @screen-xs-max ) {
        width: auto;
        float: none;
    }
}
.two-column-box__col + .two-column-box__col {
    padding-left: 1em;
}