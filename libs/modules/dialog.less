/**
 * DIALOG 
 *
 * Modal, used on references pop-up 
 */

/* Reference CSS for dialog */
/* Flexbox prefixes from https://github.com/mastastealth/sass-flex-mixin/blob/master/flex.scss */

.dialog__mask {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
    background: url("/Static/images/1x1-000000-0.8.png"); // Old IE
	background: rgba( 0,0,0,.8);
}

.dialog {
	/* The position, display and transform are used for feature tests in the script.  Things might break if these are changed */
	position: fixed;
	/* See https://css-tricks.com/quick-css-trick-how-to-center-an-object-exactly-in-the-center/ */
	top: 50%;
	left: 50%;
	-moz-transform: translate(-50%, -50%);
	-webkit-transform: translate(-50%, -50%);
	-ie-transform: translate(-50%, -50%);
	-o-transform: translate(-50%, -50%);
	transform: translate(-50%, -50%);

	/* Max width prevents the dialog being wider than the screen */
	max-width: 80%;
	width: 30em;

	/* Max height prevents the dialog being taller than the screen */
	max-height: 80%;
	/* Don't use height if you want to resize according to the content */
	height: 20em;

    @media( max-width: @screen-xs-max ) {
        max-width: 95%;
        max-height: 95%;
    }

	background: @white;
	/* We will limit ourselves to the new syntax and the IE tweener syntax */
	display: -webkit-flex;
	display: flex;
	-webkit-flex-direction: column;
	flex-direction: column;
	-webkit-justify-content: space-between;
	justify-content: space-between;
}

.dialog--absolute {
	/* Added if the browser doesn't support fixed */
	position: absolute;
	top: 5%;
	right: 5%;
	bottom: 5%;
	left: 5%;
	width: auto;
	height: auto;
}

.dialog__header {
	/* Apply our spacing here rather than margin on the h2
	to prevent issues with collapsing margins in IE<=9
	*/
	.spacing(padding,@box-spacing-horizontal*.5,@box-spacing-horizontal);
	background: @heritage-blue;
	position: relative;
	-webkit-flex-shrink: 0;
	-ms-flex-negative: 0;
	flex-shrink: 0;
	color: @white;
	h2 {
		color: @white;
	}
}

.dialog__title {
	font-size: @font-size-h3;
    margin: 0;
    text-overflow: ellipsis;
    height: 1.4em;
    white-space: nowrap;
    overflow: hidden;
    padding-right: 1.2em;
}

.dialog__close {
	color: @heritage-blue-light;
	border: none;
	background: none;
	cursor: pointer;
	position: absolute;
	right: unit(@box-spacing-horizontal*.5*@base-size,px);
	right: @box-spacing-horizontal*.5;
	top: 50%;
	margin-top: unit(-@box-spacing*.7*@base-size,px);
	margin-top: -@box-spacing*.7;
	margin-right: unit(@box-spacing-horizontal*.25*@base-size,px);
	margin-right: @box-spacing-horizontal*.25;
	font-size: @font-size-h4;
	padding: unit(@box-spacing-horizontal*.2*@base-size,px);
	padding: @box-spacing-horizontal*.2;
	line-height: 1;
	width: 1.4em;
	height: 1.4em;
	overflow: hidden;
    text-align: center;
	&:hover,
	&:active,
	&:focus {
	    color: @white;
	    background: none;
	    box-shadow: none;
	}
}

.dialog__close-icon:before {
    content: @icon-symbol-cross;
    .icon;
    padding: 0;
}

.dialog__close-text {
    .screenreader;
}


.dialog__main {
	overflow-y: auto;
	-webkit-overflow-scrolling: touch;
	.spacing(padding,@box-spacing-vertical,@box-spacing-horizontal);
	/* This helps make it clearer there the main content can scroll */
	//box-shadow: @inner-shadow;
	-webkit-flex-grow: 2;
	-ms-flex-positive: 2;
	flex-grow: 2;		
}

.dialog__footer {
	.spacing(padding,@box-spacing*.5,@box-spacing-horizontal);
	background: @heritage-blue-lightest;
	-webkit-flex-shrink: 0;
	-ms-flex-negative: 0;
	flex-shrink: 0;
}
